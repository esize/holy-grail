---
- name: "Install asdf plugins"
  include_tasks: plugins.yml
  loop: "{{ asdf_plugins }}"
  when:
    - asdf_plugins | length > 0
    - item.name is defined

- name: "Install tool versions"
  include_tasks: versions.yml
  with_subelements:
    - "{{ asdf_plugins }}"
    - versions
    - flags:
        skip_missing: true
  when: asdf_plugins | length > 0

  
- name: dotfiles | neovim | install typescript
  community.general.npm:
    name: typescript
    global: true
  environment: "{{ asdf_shell_env }}"

- name: Check npm version
  command: npm --version
  register: npm_version
  ignore_errors: true
  environment: "{{ asdf_shell_env }}"

- debug:
    var: npm_version